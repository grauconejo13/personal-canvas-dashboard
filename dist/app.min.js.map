{"version":3,"sources":["app.js"],"names":["widgetData","JSON","parse","localStorage","getItem","setTheme","theme","document","documentElement","dataset","setItem","float","cellHeight","savedLayout","addTextWidget","savedText","arguments","length","undefined","widgetId","concat","Date","now","grid","addWidget","w","h","content","attachWidgetEvents","forEach","btn","querySelectorAll","onclick","item","e","target","closest","id","stringify","removeWidget","attachTextPersistence","textarea","widget","value","confirmed","confirm","removeAll","removeItem","load","disableOneColumnMode","Object","entries","_ref","_ref2","_slicedToArray","save"],"mappings":"mnBAAA,IAAIA,WAAaC,KAAKC,MAAMC,aAAaC,QAAQ,gBAAkB,GAMnE,SAASC,SAASC,GACdC,SAASC,gBAAgBC,QAAQH,MAAQA,EACzCH,aAAaO,QAAQ,QAASJ,GALlCC,SAASC,gBAAgBC,QAAQH,MAC7BH,aAAaC,QAAQ,UAAY,OADrCG,IAAAA,KAASC,UAAAA,KAAgBC,CAUrBE,OAAO,EAPXC,WAASP,IACLE,sBAAA,IAYEM,YAAcZ,KAAKC,MAAMC,aAAaC,QAAQ,WAMxCU,SAAAA,gBAAA,IAAAC,EAAA,EAAAC,UAAAC,aAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAA,GADJG,GACI,EAAAH,UAAAC,aAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAA,OADJ,UAAAI,OAAAC,KAAAC,OAMRC,KAAAC,UAAA,CAUQC,EAAG,EACHC,EAAG,EAVHC,QAAA,wCAAAP,OAC+BD,EAD/B,sMAAAC,OAMoBL,EANpB,qCAQJa,qBAkBJ,SAASA,qBAATrB,SAASqB,iBAAqB,eAAAC,QAAA,SAAAC,GAC1BvB,EAASwB,QAAAA,SAAAA,GACDC,IAAUC,EAAAC,EAAAC,OAAOC,QAAA,oBAELC,EADUD,EAAAA,OAAQA,QAAA,WACNA,QAAQC,UAGzBrC,WAAPqC,GACAlC,aAAaO,QAAQ,aAAmB4B,KAAAA,UAAUtC,aANtDuB,KAAAgB,aAAAN,MAYJO,wBAKIC,SAAAA,wBACIlC,SAAMmC,iBAAkBN,gBAAxBP,QAAA,SAAAY,GACAA,EAAWC,QAAOjC,SAAAA,GAClBT,IACYqC,EADOF,EAAAA,OAAOQ,QAA1B,WACqBlC,QAAA4B,GAJzBrC,WAAAqC,GAAAH,EAAAC,OAAAQ,MADJxC,aAAAO,QAAA,aAAAT,KAAAqC,UAAAtC,gBAeA,SAAK4C,iBAELC,QACA1C,0DADAoB,KAAKuB,YACL3C,aAAa4C,WAAW,UACxB5C,aAAa4C,WAAW,cAExB/C,WAAa,IApFXuB,cACFA,KAAAyB,KAAOnC,aAEPoC,WAAAA,WAGJC,OAAAC,QAAAnD,YAAA6B,QAAA,SAAAuB,GAAA,IAAAC,EAAAC,eAAAF,EAAA,GAOYtC,cAPZuC,EAAA,GAAAA,EAAA,OASO,MAHCH,KAAAA,GAAAA,SAAA,WAAmD/C,aAAAO,QAAA,SAAAT,KAAAqC,UAAAf,KAAAgC","file":"app.min.js","sourcesContent":["let widgetData = JSON.parse(localStorage.getItem(\"widgetData\")) || {};\r\n\r\n// Theme\r\ndocument.documentElement.dataset.theme =\r\n    localStorage.getItem(\"theme\") || \"dark\";\r\n\r\nfunction setTheme(theme) {\r\n    document.documentElement.dataset.theme = theme;\r\n    localStorage.setItem(\"theme\", theme);\r\n}\r\n\r\n// Init Gridstack\r\nconst grid = GridStack.init({\r\n    float: true,\r\n    cellHeight: 120,\r\n    disableOneColumnMode: false\r\n});\r\n\r\n// Load saved layout\r\nconst savedLayout = JSON.parse(localStorage.getItem(\"layout\"));\r\nif (savedLayout) {\r\n    grid.load(savedLayout);\r\n\r\n    setTimeout(() => {\r\n        Object.entries(widgetData).forEach(([id, text]) => {\r\n            addTextWidget(id, text);\r\n        });\r\n    }, 100);\r\n}\r\n\r\n// Save layout on change\r\ngrid.on(\"change\", () => {\r\n    localStorage.setItem(\"layout\", JSON.stringify(grid.save()));\r\n});\r\n\r\n// Add text widget\r\nfunction addTextWidget(savedId = null, savedText = \"\") {\r\n    const widgetId = savedId || `widget-${Date.now()}`;\r\n\r\n    grid.addWidget({\r\n        w: 3,\r\n        h: 2,\r\n        content: `\r\n      <div class=\"widget\" data-id=\"${widgetId}\">\r\n        <div class=\"widget-header\">\r\n          <button class=\"delete-btn\">âœ•</button>\r\n        </div>\r\n        <textarea\r\n          class=\"widget-text\"\r\n          placeholder=\"Write here...\">${savedText}</textarea>\r\n      </div>\r\n    `\r\n    });\r\n\r\n    attachWidgetEvents();\r\n}\r\n\r\nfunction attachWidgetEvents() {\r\n    document.querySelectorAll(\".delete-btn\").forEach(btn => {\r\n        btn.onclick = (e) => {\r\n            const item = e.target.closest(\".grid-stack-item\");\r\n            const widget = e.target.closest(\".widget\");\r\n            const id = widget.dataset.id;\r\n\r\n            delete widgetData[id];\r\n            localStorage.setItem(\"widgetData\", JSON.stringify(widgetData));\r\n\r\n            grid.removeWidget(item);\r\n        };\r\n    });\r\n\r\n    attachTextPersistence();\r\n}\r\n\r\nfunction attachTextPersistence() {\r\n    document.querySelectorAll(\".widget-text\").forEach(textarea => {\r\n        textarea.oninput = (e) => {\r\n            const widget = e.target.closest(\".widget\");\r\n            const id = widget.dataset.id;\r\n            widgetData[id] = e.target.value;\r\n            localStorage.setItem(\"widgetData\", JSON.stringify(widgetData));\r\n        };\r\n    });\r\n}\r\n\r\nfunction resetDashboard() {\r\n    const confirmed = confirm(\r\n        \"This will clear all widgets and notes. Are you sure?\"\r\n    );\r\n\r\n    if (!confirmed) return;\r\n\r\n    grid.removeAll();\r\n    localStorage.removeItem(\"layout\");\r\n    localStorage.removeItem(\"widgetData\");\r\n\r\n    widgetData = {};\r\n}"]}