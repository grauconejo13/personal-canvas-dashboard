{"version":3,"sources":["app.js"],"names":["widgetData","JSON","parse","localStorage","getItem","setTheme","theme","document","documentElement","dataset","setItem","grid","GridStack","init","float","cellHeight","disableOneColumnMode","savedLayout","savedText","arguments","length","undefined","widgetId","concat","Date","w","addWidget","content","attachTextPersistence","querySelectorAll","forEach","btn","onclick","e","closest","oninput","target","id","widget","value","stringify","removeWidget","item","removeAll","textarea","removeItem","hydrateWidgetText","confirm","querySelector","attachWidgetEvents","load","setTimeout","save"],"mappings":"aAAA,IAAIA,WAAaC,KAAKC,MAAMC,aAAaC,QAAQ,gBAAkB,GAMnE,SAASC,SAASC,GACdC,SAASC,gBAAgBC,QAAQH,MAAQA,EACzCH,aAAaO,QAAQ,QAASJ,GALlCC,SAASC,gBAAgBC,QAAQH,MAAjCC,aAASC,QAAgBC,UAAQH,OASjC,IAAMK,KAAOC,UAAUC,KAAK,CACxBC,OAAO,EACPC,WAAY,IACZC,sBAAsB,IAIpBC,YAAchB,KAAKC,MAAMC,aAAaC,QAAQ,WAaG,SAAhBc,gBAAgB,IAAAA,EAAA,EAAAC,UAAAC,aAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAA,GAC7CG,GAD6C,EAAAH,UAAAC,aAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAA,OAC3B,UAAAI,OAAAC,KAAcA,OAGlCC,KADWC,UAAA,CAAAD,EAAA,EAGXE,EAAO,EAHXA,QAAA,wCAAAJ,OAekBD,EAflB,sMAAAC,OAqBsCL,EArBtC,qCA4BQP,qBAIRiB,SAAAA,qBACHrB,SAAAsB,iBAAA,eAAAC,QAAA,SAAAC,GAbOA,EAAIC,QAAU,SAACC,GAedL,IAAAA,EAAAA,EAAAA,OAAwBM,QAAA,oBAEhBC,EADbF,EAA0BG,OAAAF,QAAgBJ,WACnBrB,QAAO4B,UAEXC,WAAeD,GAC1BrC,aAAmBoC,QAAOG,aAA1BtC,KAAAuC,UAAAxC,aAHJW,KAAA8B,aAAAC,MASRd,wBAOIjB,SAAKgC,wBACLxC,SAAAA,iBAAwB,gBAAxB2B,QAAA,SAAAc,GACAzC,EAAa0C,QAAW,SAAAZ,GAEd,IACbI,EADGJ,EAAAG,OAAAF,QAAA,WACHzB,QAAA4B,GAlBWrC,WAAWqC,GAAMJ,EAAEG,OAAOG,MAoB7BO,aAAAA,QAAoB,aAAA7C,KAAAuC,UAAAxC,gBAKrB,SAAIA,iBACA+C,QACH,0DAdLpC,KAAKgC,YACLxC,aAAa0C,WAAW,UACxB1C,aAAa0C,WAAW,cAExB7C,WAAa,IAGjB,SAAS8C,oBACLvC,SAASsB,iBAAiB,WAAWC,QAAQ,SAAAQ,GACzC,IAAMD,EAAKC,EAAO7B,QAAQ4B,GACpBO,EAAWN,EAAOU,cAAc,gBAElChD,WAAWqC,KACXO,EAASL,MAAQvC,WAAWqC,MAIpCY,qBArFAhC,cACAN,KAAKuC,KAAKjC,aACVkC,WAAWL,kBAAmB,MAM9B3C,KAAAA,GAAAA,SAAaO,WAGjBP,aAAAO,QAAA,SAAAT,KAAAuC,UAAA7B,KAAAyC,MAAA","file":"app.min.js","sourcesContent":["let widgetData = JSON.parse(localStorage.getItem(\"widgetData\")) || {};\r\n\r\n// Theme\r\ndocument.documentElement.dataset.theme =\r\n    localStorage.getItem(\"theme\") || \"dark\";\r\n\r\nfunction setTheme(theme) {\r\n    document.documentElement.dataset.theme = theme;\r\n    localStorage.setItem(\"theme\", theme);\r\n}\r\n\r\n// Init Gridstack\r\nconst grid = GridStack.init({\r\n    float: true,\r\n    cellHeight: 120,\r\n    disableOneColumnMode: false\r\n});\r\n\r\n// Load saved layout\r\nconst savedLayout = JSON.parse(localStorage.getItem(\"layout\"));\r\nif (savedLayout) {\r\n    grid.load(savedLayout);\r\n    setTimeout(hydrateWidgetText, 100);\r\n}\r\n\r\n\r\n// Save layout on change\r\ngrid.on(\"change\", () => {\r\n    localStorage.setItem(\"layout\", JSON.stringify(grid.save(true)));\r\n});\r\n\r\n// Add text widget\r\nfunction addTextWidget(savedId = null, savedText = \"\") {\r\n    const widgetId = savedId || `widget-${Date.now()}`;\r\n\r\n    grid.addWidget({\r\n        w: 3,\r\n        h: 2,\r\n        content: `\r\n      <div class=\"widget\" data-id=\"${widgetId}\">\r\n        <div class=\"widget-header\">\r\n          <button class=\"delete-btn\">âœ•</button>\r\n        </div>\r\n        <textarea\r\n          class=\"widget-text\"\r\n          placeholder=\"Write here...\">${savedText}</textarea>\r\n      </div>\r\n    `\r\n    });\r\n\r\n    attachWidgetEvents();\r\n}\r\n\r\nfunction attachWidgetEvents() {\r\n    document.querySelectorAll(\".delete-btn\").forEach(btn => {\r\n        btn.onclick = (e) => {\r\n            const item = e.target.closest(\".grid-stack-item\");\r\n            const widget = e.target.closest(\".widget\");\r\n            const id = widget.dataset.id;\r\n\r\n            delete widgetData[id];\r\n            localStorage.setItem(\"widgetData\", JSON.stringify(widgetData));\r\n\r\n            grid.removeWidget(item);\r\n        };\r\n    });\r\n\r\n    attachTextPersistence();\r\n}\r\n\r\nfunction attachTextPersistence() {\r\n    document.querySelectorAll(\".widget-text\").forEach(textarea => {\r\n        textarea.oninput = (e) => {\r\n            const widget = e.target.closest(\".widget\");\r\n            const id = widget.dataset.id;\r\n            widgetData[id] = e.target.value;\r\n            localStorage.setItem(\"widgetData\", JSON.stringify(widgetData));\r\n        };\r\n    });\r\n}\r\n\r\nfunction resetDashboard() {\r\n    const confirmed = confirm(\r\n        \"This will clear all widgets and notes. Are you sure?\"\r\n    );\r\n\r\n    if (!confirmed) return;\r\n\r\n    grid.removeAll();\r\n    localStorage.removeItem(\"layout\");\r\n    localStorage.removeItem(\"widgetData\");\r\n\r\n    widgetData = {};\r\n}\r\n\r\nfunction hydrateWidgetText() {\r\n    document.querySelectorAll(\".widget\").forEach(widget => {\r\n        const id = widget.dataset.id;\r\n        const textarea = widget.querySelector(\".widget-text\");\r\n\r\n        if (widgetData[id]) {\r\n            textarea.value = widgetData[id];\r\n        }\r\n    });\r\n\r\n    attachWidgetEvents();\r\n}"]}