"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var a=[],r=!0,i=!1,n=void 0;try{for(var o,l=t[Symbol.iterator]();!(r=(o=l.next()).done)&&(a.push(o.value),!e||a.length!==e);r=!0);}catch(t){i=!0,n=t}finally{try{r||null==l.return||l.return()}finally{if(i)throw n}}return a}}function _arrayWithHoles(t){if(Array.isArray(t))return t}var widgetData=JSON.parse(localStorage.getItem("widgetData"))||{};function setTheme(t){document.documentElement.dataset.theme=t,localStorage.setItem("theme",t)}document.documentElement.dataset.theme=localStorage.getItem("theme")||"dark";var grid=GridStack.init({float:!0,cellHeight:120,disableOneColumnMode:!1}),savedLayout=JSON.parse(localStorage.getItem("layout"));function addTextWidget(){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:null)||"widget-".concat(Date.now());grid.addWidget({w:3,h:2,content:'\n      <div class="widget" data-id="'.concat(e,'">\n        <div class="widget-header">\n          <button class="delete-btn">âœ•</button>\n        </div>\n        <textarea\n          class="widget-text"\n          placeholder="Write here...">').concat(t,"</textarea>\n      </div>\n    ")}),attachWidgetEvents()}function attachWidgetEvents(){document.querySelectorAll(".delete-btn").forEach(function(t){t.onclick=function(t){var e=t.target.closest(".grid-stack-item"),a=t.target.closest(".widget").dataset.id;delete widgetData[a],localStorage.setItem("widgetData",JSON.stringify(widgetData)),grid.removeWidget(e)}}),attachTextPersistence()}function attachTextPersistence(){document.querySelectorAll(".widget-text").forEach(function(t){t.oninput=function(t){var e=t.target.closest(".widget").dataset.id;widgetData[e]=t.target.value,localStorage.setItem("widgetData",JSON.stringify(widgetData))}})}function resetDashboard(){confirm("This will clear all widgets and notes. Are you sure?")&&(grid.removeAll(),localStorage.removeItem("layout"),localStorage.removeItem("widgetData"),widgetData={})}savedLayout&&(grid.load(savedLayout),setTimeout(function(){Object.entries(widgetData).forEach(function(t){var e=_slicedToArray(t,2);addTextWidget(e[0],e[1])})},100)),grid.on("change",function(){localStorage.setItem("layout",JSON.stringify(grid.save()))});
//# sourceMappingURL=app.min.js.map
