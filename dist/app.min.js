"use strict";var widgetData=JSON.parse(localStorage.getItem("widgetData"))||{};function setTheme(t){document.documentElement.dataset.theme=t,localStorage.setItem("theme",t)}document.documentElement.dataset.theme=localStorage.getItem("theme")||"dark";var grid=GridStack.init({float:!0,cellHeight:120,disableOneColumnMode:!1}),savedLayout=JSON.parse(localStorage.getItem("layout"));function addTextWidget(){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:null)||"widget-".concat(Date.now());grid.addWidget({w:3,h:2,content:'\n      <div class="widget" data-id="'.concat(e,'">\n        <div class="widget-header">\n          <button class="delete-btn">âœ•</button>\n        </div>\n        <textarea\n          class="widget-text"\n          placeholder="Write here...">').concat(t,"</textarea>\n      </div>\n    ")}),attachWidgetEvents()}function attachWidgetEvents(){document.querySelectorAll(".delete-btn").forEach(function(t){t.onclick=function(t){var e=t.target.closest(".grid-stack-item"),a=t.target.closest(".widget").dataset.id;delete widgetData[a],localStorage.setItem("widgetData",JSON.stringify(widgetData)),grid.removeWidget(e)}}),attachTextPersistence()}function attachTextPersistence(){document.querySelectorAll(".widget-text").forEach(function(t){t.oninput=function(t){var e=t.target.closest(".widget").dataset.id;widgetData[e]=t.target.value,localStorage.setItem("widgetData",JSON.stringify(widgetData))}})}function resetDashboard(){confirm("This will clear all widgets and notes. Are you sure?")&&(grid.removeAll(),localStorage.removeItem("layout"),localStorage.removeItem("widgetData"),widgetData={})}function hydrateWidgetText(){document.querySelectorAll(".widget").forEach(function(t){var e=t.dataset.id,a=t.querySelector(".widget-text");widgetData[e]&&(a.value=widgetData[e])}),attachWidgetEvents()}savedLayout&&(grid.load(savedLayout),setTimeout(hydrateWidgetText,100)),grid.on("change",function(){localStorage.setItem("layout",JSON.stringify(grid.save()))});
//# sourceMappingURL=app.min.js.map
